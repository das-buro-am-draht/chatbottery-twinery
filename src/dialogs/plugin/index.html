<modal-dialog id="pluginModal" :origin="origin" v-ref:modal>
	<h2 class="plugin__title">Plugins</h2>
	<div class="plugin__items">
		<div class="plugin__item">
			<div class="plugin__checkbox">
				<input type="checkbox" id="googleAnalyticsTracking" v-model="google.enabled">
				<label for="googleAnalyticsTracking">Google Analytics</label>
			</div>
		</div>
		<div class="plugin__item">
			<div class="plugin__checkbox">
				<input type="checkbox" id="matomoTracking" v-model="matomo.enabled">
				<label for="matomoTracking">Matomo</label>
			</div>
			<div v-if="matomo.enabled">
				<div class="plugin__row">
					<label for="matomoPHPUrl">PHP Url</label>
					<div class="plugin__input">
						<input type="text" id="matomoPHPUrl" v-model="matomo.url" title="Matomo PHP URL">
						<p class="error" v-show="!isValidMatomoPHPUrl">{{ 'Resource Locator must be a valid URL' | say}}</p>
					</div>
				</div>
				<div class="plugin__row">
					<label for="siteId">Site ID</label>
					<div class="plugin__input">
						<input type="text" id="siteId" v-model="matomo.siteId" title="Matomo Site ID">
						<p class="error" v-show="!matomo.siteId">{{ 'Site ID must not be empty' | say}}</p>
					</div>
				</div>
				<div class="plugin__row">
					<label for="statisticalArea">Statistical area</label>
					<div class="plugin__input">
						<input type="text" id="statisticalArea" v-model="matomo.statisticalArea" title="Matomo Statistical Area">
					</div>
				</div>
				<div class="plugin__row">
					<label for="shouldStoreTrackingIdInCookies">Store Tracking ID in Cookies</label>
					<div class="plugin__input">
						<input type="checkbox" id="shouldStoreTrackingIdInCookies" v-model="matomo.shouldStoreTrackingIdInCookies" title="Store Tracking ID in Cookies">
					</div>
				</div>
				<div class="plugin__row">
					<label>Host to Environment Mapping</label>
					<div class="plugin__input">
						<template v-for="item in matomoHostToEnv">
							<div class="plugin__list">
								<input type="text" class="plugin__list-text" v-model="item[0]" placeholder="Host" title="Host">
								<input type="text" class="plugin__list-text" v-model="item[1]" placeholder="Environment" title="Environment">
								<button v-if="$index === 0" class="plugin__list-btn" @click="add(matomoHostToEnv, $index, $event)"></button>
								<button v-else class="plugin__list-btn" @click="remove(matomoHostToEnv, $index, $event)"></button>
							</div>
							<p class="error" v-show="!isValidMatomoHostToEnvEntry(matomoHostToEnv[$index])">{{ 'Host and Environment must be set' | say}}</p>
						</template>
					</div>
				</div>
			</div>
		</div>
		<div class="plugin__item">
			<div class="plugin__checkbox">
				<input type="checkbox" id="liveChat" v-model="chat.enabled">
				<label for="liveChat">Live Chat</label>
			</div>
		</div>
		<div v-if="chat.enabled">
			<div class="plugin__row">
				<label for="chatAppId">Application ID</label>
				<div class="plugin__input">
					<input type="text" id="chatAppId" v-model="chat.appId" title="Chat Application ID">
					<p class="error" v-show="!chat.appId">{{ 'Application ID must not be empty' | say}}</p>
				</div>
			</div>
			<div class="plugin__row">
				<label for="chatAuthKey">Authorization Key</label>
				<div class="plugin__input">
					<input type="text" id="chatAuthKey" v-model="chat.authKey" title="Chat Authorization Key">
					<p class="error" v-show="!chat.authKey">{{ 'Authorization Key must not be empty' | say}}</p>
				</div>
			</div>
			<div class="plugin__row">
				<label for="chatAuthSecret">Authorization Secret</label>
				<div class="plugin__input">
					<input type="text" id="chatAuthSecret" v-model="chat.authSecret" title="Chat Authorization Secret">
					<p class="error" v-show="!chat.authSecret">{{ 'Authorization Secret must not be empty' | say}}</p>
				</div>
			</div>
			<div class="plugin__row">
				<label for="chatAccountKey">Account Key</label>
				<div class="plugin__input">
					<input type="text" id="chatAccountKey" v-model="chat.accountKey" title="Chat Account Key">
					<p class="error" v-show="!chat.accountKey">{{ 'Account Key must not be empty' | say}}</p>
				</div>
			</div>
		</div>
		<div class="plugin__save">
			<button class="create" @click="save" :disabled="!isValid">Save</button>
		</div>
	</div>
</modal-dialog>
